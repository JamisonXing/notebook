# 第一章 概述

## 1. *因特网的组成

![image-20230212142835690](/Users/jamison/Library/Application Support/typora-user-images/image-20230212142835690.png)

边缘部分，核心部分

![image-20230212134152677](/Users/jamison/Library/Application Support/typora-user-images/image-20230212134152677.png)

## 2. *三种交换方式

![image-20230212142826048](/Users/jamison/Library/Application Support/typora-user-images/image-20230212142826048.png)

电路交换、报文交换、分组交换

- 电路交换（Circuit Switching）

  ![image-20230212135001626](/Users/jamison/Library/Application Support/typora-user-images/image-20230212135001626.png)

- 分组交换（Packet Switching）

  将较长的报文换分为一个个更小的等长数据段，加上首部（包头）

  ![image-20230212135122702](/Users/jamison/Library/Application Support/typora-user-images/image-20230212135122702.png)

  走不同的路由到达

  ![image-20230212135221892](/Users/jamison/Library/Application Support/typora-user-images/image-20230212135221892.png)

  去掉首部

  ![image-20230212135253790](/Users/jamison/Library/Application Support/typora-user-images/image-20230212135253790.png)

  组合还原

  ![image-20230212135306288](/Users/jamison/Library/Application Support/typora-user-images/image-20230212135306288.png)

  ![image-20230212135048730](/Users/jamison/Library/Application Support/typora-user-images/image-20230212135048730.png)

- 报文交换

  也采用分组转发方式，但报文交换对报文的大小没有限制，要求交换节点要有较大的缓存空间，主要用于早期的电报通信网，现在较少使用，通常被先进的分组交换方式所取代，不在详细介绍了。

- 三者对比

  ![image-20230212140355018](/Users/jamison/Library/Application Support/typora-user-images/image-20230212140355018.png)

## 3. *计算机网络的分类 

![image-20230212142809897](/Users/jamison/Library/Application Support/typora-user-images/image-20230212142809897.png)

![image-20230212142752684](/Users/jamison/Library/Application Support/typora-user-images/image-20230212142752684.png)

## 4. 计算机网络的性能指标

- 速率

  ![image-20230212143252584](/Users/jamison/Library/Application Support/typora-user-images/image-20230212143252584.png)

- 带宽

  ![image-20230212145209064](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145209064.png)

- 吞吐量

  ![image-20230212145248116](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145248116.png)

- 时延

  ![image-20230212145328065](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145328065.png)

  具体问题具体分析

  ![image-20230212145351689](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145351689.png)

- 时延带宽积

  ![image-20230212145434513](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145434513.png)

- 往返时间

  ![image-20230212145459631](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145459631.png)

- 利用率

  ![image-20230212145529635](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145529635.png)

  ![image-20230212145548896](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145548896.png)

小结：

![image-20230212145622004](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145622004.png)

![image-20230212145604126](/Users/jamison/Library/Application Support/typora-user-images/image-20230212145604126.png)

## 5. *计算机网络体系结构

![image-20230212150646460](/Users/jamison/Library/Application Support/typora-user-images/image-20230212150646460.png)

### 5.1 常见的计算机网络体系结构

![image-20230212150627859](/Users/jamison/Library/Application Support/typora-user-images/image-20230212150627859.png)

![image-20230212150704564](/Users/jamison/Library/Application Support/typora-user-images/image-20230212150704564.png)

![image-20230212150729000](/Users/jamison/Library/Application Support/typora-user-images/image-20230212150729000.png)

### 5.2 计算机网路体系结构分层的必要性

![image-20230212153347434](/Users/jamison/Library/Application Support/typora-user-images/image-20230212153347434.png)

各层

![image-20230212153411068](/Users/jamison/Library/Application Support/typora-user-images/image-20230212153411068.png)

![image-20230212153425659](/Users/jamison/Library/Application Support/typora-user-images/image-20230212153425659.png)

![image-20230212153445922](/Users/jamison/Library/Application Support/typora-user-images/image-20230212153445922.png)

![image-20230212153502870](/Users/jamison/Library/Application Support/typora-user-images/image-20230212153502870.png)

小结：

![image-20230212153512400](/Users/jamison/Library/Application Support/typora-user-images/image-20230212153512400.png)

### 5.3 计算机网络体系结构分层思想举例

https://www.bilibili.com/video/BV1c4411d7CQ?p=9&spm_id_from=pageDriver&vd_source=1761deea5b8c69ccd1cd089a400b2c54

### 5.4 计算机网路体系结构专用术语

主要分为实体、协议、服务

![image-20230212180159337](/Users/jamison/Library/Application Support/typora-user-images/image-20230212180159337.png)

1. 实体:

   ![image-20230212175433548](/Users/jamison/Library/Application Support/typora-user-images/image-20230212175433548.png)

2. 协议

   ![image-20230212175508952](/Users/jamison/Library/Application Support/typora-user-images/image-20230212175508952.png)

   协议三要素：语法、语义、同步

   - 语法

     ![image-20230212175559770](/Users/jamison/Library/Application Support/typora-user-images/image-20230212175559770.png)

   - 语义

     ![image-20230212175702823](/Users/jamison/Library/Application Support/typora-user-images/image-20230212175702823.png)

   - 同步

     ![image-20230212175744821](/Users/jamison/Library/Application Support/typora-user-images/image-20230212175744821.png)

3. 服务

   ![image-20230212175822063](/Users/jamison/Library/Application Support/typora-user-images/image-20230212175822063.png)

   ![image-20230212175902980](/Users/jamison/Library/Application Support/typora-user-images/image-20230212175902980.png)

   ![image-20230212175930489](/Users/jamison/Library/Application Support/typora-user-images/image-20230212175930489.png)

## 6. 习题

体系结构和时延相关习题

体系结构习题：

![image-20230212180701046](/Users/jamison/Library/Application Support/typora-user-images/image-20230212180701046.png)

![image-20230212180851934](/Users/jamison/Library/Application Support/typora-user-images/image-20230212180851934.png)

 ![image-20230212181001772](/Users/jamison/Library/Application Support/typora-user-images/image-20230212181001772.png)

![image-20230212181029929](/Users/jamison/Library/Application Support/typora-user-images/image-20230212181029929.png)

![image-20230212181154578](/Users/jamison/Library/Application Support/typora-user-images/image-20230212181154578.png)

 ![image-20230212181230164](/Users/jamison/Library/Application Support/typora-user-images/image-20230212181230164.png)

![image-20230212181243951](/Users/jamison/Library/Application Support/typora-user-images/image-20230212181243951.png)

![image-20230212181353492](/Users/jamison/Library/Application Support/typora-user-images/image-20230212181353492.png)

![image-20230212181549516](/Users/jamison/Library/Application Support/typora-user-images/image-20230212181549516.png)

![image-20230212182333767](/Users/jamison/Library/Application Support/typora-user-images/image-20230212182333767.png)

![image-20230212182638040](/Users/jamison/Library/Application Support/typora-user-images/image-20230212182638040.png)

时延相关习题：

![image-20230212183938606](/Users/jamison/Library/Application Support/typora-user-images/image-20230212183938606.png)

![image-20230212184204277](/Users/jamison/Library/Application Support/typora-user-images/image-20230212184204277.png)

![image-20230212184919796](/Users/jamison/Library/Application Support/typora-user-images/image-20230212184919796.png)

![image-20230212185032832](/Users/jamison/Library/Application Support/typora-user-images/image-20230212185032832.png)



# 第二章 物理层

## 1. *信道的极限容量

![image-20230213111720474](/Users/jamison/Library/Application Support/typora-user-images/image-20230213111720474.png)

![image-20230213102536403](/Users/jamison/Library/Application Support/typora-user-images/image-20230213102536403.png)

# 第三章 数据链路层

## 1. 概述

![image-20230213111046377](/Users/jamison/Library/Application Support/typora-user-images/image-20230213111046377.png)

点对点信道的数据链路层三个重要问题：封装成帧、差错检测、可靠传输

对使用广播信道的数据链路层（共享式局域网）有碰撞的问题，需要CSMA/CD

![image-20230213110855212](/Users/jamison/Library/Application Support/typora-user-images/image-20230213110855212.png)

## 2. 封装成帧

![image-20230213111223358](/Users/jamison/Library/Application Support/typora-user-images/image-20230213111223358.png)

![image-20230213111328177](/Users/jamison/Library/Application Support/typora-user-images/image-20230213111328177.png)

![image-20230213111354220](/Users/jamison/Library/Application Support/typora-user-images/image-20230213111354220.png)

## 3. *差错检测

奇偶校验、循环冗余校验

 CRC:

![image-20230213112108366](/Users/jamison/Library/Application Support/typora-user-images/image-20230213112108366.png)

![image-20230213112119655](/Users/jamison/Library/Application Support/typora-user-images/image-20230213112119655.png)

![image-20230213112140585](/Users/jamison/Library/Application Support/typora-user-images/image-20230213112140585.png)

![image-20230213112157313](/Users/jamison/Library/Application Support/typora-user-images/image-20230213112157313.png)

注意：

![image-20230213112233424](/Users/jamison/Library/Application Support/typora-user-images/image-20230213112233424.png)

## 4. 可靠传输

### 4.1 可靠传输基本概念

![image-20230213112349916](/Users/jamison/Library/Application Support/typora-user-images/image-20230213112349916.png)

![image-20230213112440264](/Users/jamison/Library/Application Support/typora-user-images/image-20230213112440264.png)

### 4.2 可靠传输实现机制

![image-20230213112621059](/Users/jamison/Library/Application Support/typora-user-images/image-20230213112621059.png)

#### 4.2.1 停止等待协议(SW)

![image-20230213113309831](/Users/jamison/Library/Application Support/typora-user-images/image-20230213113309831.png)

![image-20230213113328728](/Users/jamison/Library/Application Support/typora-user-images/image-20230213113328728.png) 	![image-20230213113351398](/Users/jamison/Library/Application Support/typora-user-images/image-20230213113351398.png)

#### 4.2.2 回退N帧协议GBN

又叫滑动窗口协议

![image-20230213113628767](/Users/jamison/Library/Application Support/typora-user-images/image-20230213113628767.png)

#### 4.2.3 选择重传协议

![image-20230213113743605](/Users/jamison/Library/Application Support/typora-user-images/image-20230213113743605.png)

## 5. 媒体接入控制

### 5.1 基本概念

![image-20230213114207447](/Users/jamison/Library/Application Support/typora-user-images/image-20230213114207447.png)

### 5.2 媒体接入控制--*静态划分信道

![image-20230213115323537](/Users/jamison/Library/Application Support/typora-user-images/image-20230213115323537.png)

- 频分复用

  ![image-20230213115350504](/Users/jamison/Library/Application Support/typora-user-images/image-20230213115350504.png)

- 时分复用

  ![image-20230213115421796](/Users/jamison/Library/Application Support/typora-user-images/image-20230213115421796.png)

- 波分复用

  ![image-20230213115441259](/Users/jamison/Library/Application Support/typora-user-images/image-20230213115441259.png)

- 码分复用

  ![image-20230213115521092](/Users/jamison/Library/Application Support/typora-user-images/image-20230213115521092.png)

  ![image-20230213115539423](/Users/jamison/Library/Application Support/typora-user-images/image-20230213115539423.png)

  ![image-20230213115659311](/Users/jamison/Library/Application Support/typora-user-images/image-20230213115659311.png)

  ![image-20230213115756847](/Users/jamison/Library/Application Support/typora-user-images/image-20230213115756847.png)

  ![image-20230213115924704](/Users/jamison/Library/Application Support/typora-user-images/image-20230213115924704.png)

  ![image-20230213120006613](/Users/jamison/Library/Application Support/typora-user-images/image-20230213120006613.png)

  ![image-20230213120028108](/Users/jamison/Library/Application Support/typora-user-images/image-20230213120028108.png)

### *5.3 媒体接入控制--动态接入控制--随机接入

CSMA/CD和CSMA/CA两种，后者不考

![image-20230213150415934](/Users/jamison/Library/Application Support/typora-user-images/image-20230213150415934.png)

![image-20230213150457438](/Users/jamison/Library/Application Support/typora-user-images/image-20230213150457438.png)

- CSMA/CD协议

  - 争用期

    端到端传播时延的两倍

    ![image-20230213150642869](/Users/jamison/Library/Application Support/typora-user-images/image-20230213150642869.png)

  - 最小帧长

    ![image-20230213150743576](/Users/jamison/Library/Application Support/typora-user-images/image-20230213150743576.png)

  - 最大帧长

    ![image-20230213150818471](/Users/jamison/Library/Application Support/typora-user-images/image-20230213150818471.png)

  - 截断二进制指数退避算法

    ![image-20230213150921398](/Users/jamison/Library/Application Support/typora-user-images/image-20230213150921398.png)

  - 信道利用率

    ![image-20230213151004335](/Users/jamison/Library/Application Support/typora-user-images/image-20230213151004335.png)

  - 帧发送流![image-20230213151153016](/Users/jamison/Library/Application Support/typora-user-images/image-20230213151153016.png)

  - 帧接受流程

    ![image-20230213151108664](/Users/jamison/Library/Application Support/typora-user-images/image-20230213151108664.png)

练习题：

![image-20230213151618092](/Users/jamison/Library/Application Support/typora-user-images/image-20230213151618092.png)

![image-20230213154533302](/Users/jamison/Library/Application Support/typora-user-images/image-20230213154533302.png)

![image-20230213154550187](/Users/jamison/Library/Application Support/typora-user-images/image-20230213154550187.png)

![image-20230213154613294](/Users/jamison/Library/Application Support/typora-user-images/image-20230213154613294.png)

## 6. 以太网交换机自学习和转发帧的流程

![image-20230213190405578](/Users/jamison/Library/Application Support/typora-user-images/image-20230213190405578.png)

![image-20230213190421088](/Users/jamison/Library/Application Support/typora-user-images/image-20230213190421088.png)

![image-20230213190436571](/Users/jamison/Library/Application Support/typora-user-images/image-20230213190436571.png)

![image-20230213190449699](/Users/jamison/Library/Application Support/typora-user-images/image-20230213190449699.png)



# 第四章 网络层

## 1. 概述

![image-20230213190551047](/Users/jamison/Library/Application Support/typora-user-images/image-20230213190551047.png) 

## 2. 分类编址的IPv4地址

![image-20230214104145406](/Users/jamison/Library/Application Support/typora-user-images/image-20230214104145406.png)

![image-20230214104235324](/Users/jamison/Library/Application Support/typora-user-images/image-20230214104235324.png)

![image-20230214104344035](/Users/jamison/Library/Application Support/typora-user-images/image-20230214104344035.png)

![image-20230214104541114](/Users/jamison/Library/Application Support/typora-user-images/image-20230214104541114.png)

![image-20230214104631463](/Users/jamison/Library/Application Support/typora-user-images/image-20230214104631463.png)

![image-20230214104838715](/Users/jamison/Library/Application Support/typora-user-images/image-20230214104838715.png)

## *3. 划分子网的IPv4地址

![image-20230214105100157](/Users/jamison/Library/Application Support/typora-user-images/image-20230214105100157.png)

![image-20230214105242151](/Users/jamison/Library/Application Support/typora-user-images/image-20230214105242151.png)

![image-20230214105924031](/Users/jamison/Library/Application Support/typora-user-images/image-20230214105924031.png)

![image-20230214110021623](/Users/jamison/Library/Application Support/typora-user-images/image-20230214110021623.png)

![image-20230214110056446](/Users/jamison/Library/Application Support/typora-user-images/image-20230214110056446.png) 

![image-20230214110140400](/Users/jamison/Library/Application Support/typora-user-images/image-20230214110140400.png)

![image-20230214110535697](/Users/jamison/Library/Application Support/typora-user-images/image-20230214110535697.png)

默认子网掩码

![image-20230214110612014](/Users/jamison/Library/Application Support/typora-user-images/image-20230214110612014.png)

## *4. 无分类编址的IPv4地址

![image-20230214110825396](/Users/jamison/Library/Application Support/typora-user-images/image-20230214110825396.png)

![image-20230214110907405](/Users/jamison/Library/Application Support/typora-user-images/image-20230214110907405.png)

![image-20230214111025658](/Users/jamison/Library/Application Support/typora-user-images/image-20230214111025658.png)

![image-20230214111251268](/Users/jamison/Library/Application Support/typora-user-images/image-20230214111251268.png)

构造超网（路由聚合）

![image-20230214111443971](/Users/jamison/Library/Application Support/typora-user-images/image-20230214111443971.png)

![image-20230214111541061](/Users/jamison/Library/Application Support/typora-user-images/image-20230214111541061.png)

![image-20230214111948454](/Users/jamison/Library/Application Support/typora-user-images/image-20230214111948454.png)

## 5. IPv4地址应用规划

![image-20230214112257669](/Users/jamison/Library/Application Support/typora-user-images/image-20230214112257669.png)

![image-20230214112559787](/Users/jamison/Library/Application Support/typora-user-images/image-20230214112559787.png)

## *6. 路由信息协议RIP

![image-20230214115422481](/Users/jamison/Library/Application Support/typora-user-images/image-20230214115422481.png)

![image-20230214115452849](/Users/jamison/Library/Application Support/typora-user-images/image-20230214115452849.png)

![image-20230214115713829](/Users/jamison/Library/Application Support/typora-user-images/image-20230214115713829.png)

![image-20230214115738335](/Users/jamison/Library/Application Support/typora-user-images/image-20230214115738335.png)

![image-20230214115829378](/Users/jamison/Library/Application Support/typora-user-images/image-20230214115829378.png)

![image-20230214120037494](/Users/jamison/Library/Application Support/typora-user-images/image-20230214120037494.png)

![image-20230214120054246](/Users/jamison/Library/Application Support/typora-user-images/image-20230214120054246.png)

<img src="/Users/jamison/Library/Application Support/typora-user-images/image-20230214120134437.png" alt="image-20230214120134437" style="zoom:50%;" />

坏消息传的慢

![image-20230214120248991](/Users/jamison/Library/Application Support/typora-user-images/image-20230214120248991.png)

![image-20230214120346298](/Users/jamison/Library/Application Support/typora-user-images/image-20230214120346298.png)

![image-20230214120518777](/Users/jamison/Library/Application Support/typora-user-images/image-20230214120518777.png)

## *7. 虚拟专用网VPN与网络地址转换NAT

![image-20230214142842314](/Users/jamison/Library/Application Support/typora-user-images/image-20230214142842314.png)

![image-20230214142714666](/Users/jamison/Library/Application Support/typora-user-images/image-20230214142714666.png)

 NAT

![image-20230214143114140](/Users/jamison/Library/Application Support/typora-user-images/image-20230214143114140.png)

NAPT

![image-20230214143212856](/Users/jamison/Library/Application Support/typora-user-images/image-20230214143212856.png)

![image-20230214143252281](/Users/jamison/Library/Application Support/typora-user-images/image-20230214143252281.png)

![image-20230214143350019](/Users/jamison/Library/Application Support/typora-user-images/image-20230214143350019.png)

## *8. ARP

![image-20230214170414979](/Users/jamison/Library/Application Support/typora-user-images/image-20230214170414979.png)

![image-20230214170653216](/Users/jamison/Library/Application Support/typora-user-images/image-20230214170653216.png)

# 第五章 运输层

## 1. *UDP和 TCP对比

![image-20230214145221279](/Users/jamison/Library/Application Support/typora-user-images/image-20230214145221279.png)

## *2. TCP拥塞控制

![image-20230214152008589](/Users/jamison/Library/Application Support/typora-user-images/image-20230214152008589.png)

![image-20230214152122335](/Users/jamison/Library/Application Support/typora-user-images/image-20230214152122335.png)

## *3. TCP连接和释放

### 3.1 连接

![image-20230214152912574](/Users/jamison/Library/Application Support/typora-user-images/image-20230214152912574.png)

![image-20230214152923690](/Users/jamison/Library/Application Support/typora-user-images/image-20230214152923690.png)

### 3.2 释放

![image-20230214161900510](/Users/jamison/Library/Application Support/typora-user-images/image-20230214161900510.png)

![image-20230214161910690](/Users/jamison/Library/Application Support/typora-user-images/image-20230214161910690.png)

![image-20230214161927030](/Users/jamison/Library/Application Support/typora-user-images/image-20230214161927030.png)

保活计时器

![image-20230214161959758](/Users/jamison/Library/Application Support/typora-user-images/image-20230214161959758.png)



# 第六章 应用层

## 1. 动态主机配置协议DHCP

![image-20230214163531994](/Users/jamison/Library/Application Support/typora-user-images/image-20230214163531994.png)

DHCP中继代理

![image-20230214163629989](/Users/jamison/Library/Application Support/typora-user-images/image-20230214163629989.png)

## 2. 域名系统DNS

### 2.1 相关概念

![image-20230214163730601](/Users/jamison/Library/Application Support/typora-user-images/image-20230214163730601.png)

![image-20230214163927531](/Users/jamison/Library/Application Support/typora-user-images/image-20230214163927531.png)

![image-20230214164020862](/Users/jamison/Library/Application Support/typora-user-images/image-20230214164020862.png)

![image-20230214164131582](/Users/jamison/Library/Application Support/typora-user-images/image-20230214164131582.png)

### 2.2 域名解析过程

递归查询和迭代查询

![image-20230214164353054](/Users/jamison/Library/Application Support/typora-user-images/image-20230214164353054.png)

### 2.3 高速缓存

![image-20230214164650542](/Users/jamison/Library/Application Support/typora-user-images/image-20230214164650542.png)

### 2.4 习题

![image-20230214164714074](/Users/jamison/Library/Application Support/typora-user-images/image-20230214164714074.png)

![image-20230214164908344](/Users/jamison/Library/Application Support/typora-user-images/image-20230214164908344.png)

## 3. 超文本传输协议HTTP

![image-20230214165111525](/Users/jamison/Library/Application Support/typora-user-images/image-20230214165111525.png)

![image-20230214165155177](/Users/jamison/Library/Application Support/typora-user-images/image-20230214165155177.png)

![image-20230214165219898](/Users/jamison/Library/Application Support/typora-user-images/image-20230214165219898.png)

### 3.1 请求报文格式

![image-20230214165508648](/Users/jamison/Library/Application Support/typora-user-images/image-20230214165508648.png)

![image-20230214165522835](/Users/jamison/Library/Application Support/typora-user-images/image-20230214165522835.png)

### 3.2 响应报文格式

![image-20230214165552081](/Users/jamison/Library/Application Support/typora-user-images/image-20230214165552081.png)

![image-20230214165637506](/Users/jamison/Library/Application Support/typora-user-images/image-20230214165637506.png)

### 3.3 习题

![image-20230214165840975](/Users/jamison/Library/Application Support/typora-user-images/image-20230214165840975.png)

![image-20230214165920066](/Users/jamison/Library/Application Support/typora-user-images/image-20230214165920066.png)
